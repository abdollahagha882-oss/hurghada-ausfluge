const translations = {
    ar: {
        headerTitle: 'رحلات الغردقة',
        headerSubtitle: 'اكتشف أجمل المغامرات في البحر والصحراء',
        seaTripsTitle: 'الرحلات البحرية',
        giftunTripTitle: 'رحلة جزيرة الجفتون',
        giftunTripDesc: 'استمتع بالسباحة والغوص في أجمل الشعاب المرجانية.',
        snorkelingTripTitle: 'رحلة سنوركلينج',
        snorkelingTripDesc: 'يوم كامل من الاستمتاع بالحياة البحرية الملونة.',
        safariTripsTitle: 'رحلات السفاري',
        quadTripTitle: 'سفاري بيتش باجي',
        quadTripDesc: 'مغامرة مثيرة في قلب الصحراء مع ركوب البيتش باجي.',
        bedouinDinnerTitle: 'عشاء بدوي في الصحراء',
        bedouinDinnerDesc: 'استمتع بتجربة فريدة وعشاء لذيذ تحت النجوم.',
        culturalTripsTitle: 'رحلات الأقصر والقاهرة',
        luxorTripTitle: 'رحلة إلى الأقصر',
        luxorTripDesc: 'اكتشف التاريخ العريق وادي الملوك ومعبد الكرنك.',
        cairoTripTitle: 'رحلة إلى القاهرة',
        cairoTripDesc: 'شاهد أهرامات الجيزة وأبو الهول والمتحف المصري.',
        bookButton: 'احجز الآن',
        priceGiftun: 'السعر: 25 €',
        priceSnorkeling: 'السعر: 30 €',
        priceQuad: 'السعر: 25 €',
        priceBedouin: 'السعر: 30 €',
        priceLuxor: 'السعر: 60 €',
        priceCairo: 'السعر: 80 €',
        footerText: 'جميع الحقوق محفوظة © 2025',
        contactFormTitle: 'لديك أسئلة؟ تواصل معنا',
        contactFormSubtitle: 'املأ النموذج وسنتواصل معك في أقرب وقت.',
        formNameLabel: 'الاسم:',
        formEmailLabel: 'البريد الإلكتروني:',
        formMessageLabel: 'رسالتك:',
        formSubmitButton: 'إرسال الرسالة',
        searchPlaceholder: 'ابحث عن رحلة...',
        searchButton: 'بحث',
        mapTitle: 'مواقعنا'
    },
    en: {
        headerTitle: 'Hurghada Trips',
        headerSubtitle: 'Discover the most beautiful adventures in the sea and desert',
        seaTripsTitle: 'Sea Trips',
        giftunTripTitle: 'Giftun Island Trip',
        giftunTripDesc: 'Enjoy swimming and diving in the most beautiful coral reefs.',
        snorkelingTripTitle: 'Snorkeling Trip',
        snorkelingTripDesc: 'A full day of enjoying the colorful marine life.',
        safariTripsTitle: 'Safari Trips',
        quadTripTitle: 'Quad Bike Safari',
        quadTripDesc: 'An exciting adventure in the heart of the desert with quad biking.',
        bedouinDinnerTitle: 'Bedouin Dinner in the Desert',
        bedouinDinnerDesc: 'Enjoy a unique experience and a delicious dinner under the stars.',
        culturalTripsTitle: 'Luxor and Cairo Trips',
        luxorTripTitle: 'Trip to Luxor',
        luxorTripDesc: 'Discover the ancient history of the Valley of the Kings and Karnak Temple.',
        cairoTripTitle: 'Trip to Cairo',
        cairoTripDesc: 'See the Giza Pyramids, the Sphinx, and the Egyptian Museum.',
        bookButton: 'Book Now',
        priceGiftun: 'Price: 25 €',
        priceSnorkeling: 'Price: 30 €',
        priceQuad: 'Price: 25 €',
        priceBedouin: 'Price: 30 €',
        priceLuxor: 'Price: 60 €',
        priceCairo: 'Price: 80 €',
        footerText: 'All rights reserved © 2025',
        contactFormTitle: 'Have Questions? Contact Us',
        contactFormSubtitle: 'Fill out the form and we will get back to you shortly.',
        formNameLabel: 'Name:',
        formEmailLabel: 'Email:',
        formMessageLabel: 'Your Message:',
        formSubmitButton: 'Send Message',
        searchPlaceholder: 'Search for a trip...',
        searchButton: 'Search',
        mapTitle: 'Our Locations'
    },
    de: {
        headerTitle: 'Hurghada Ausflüge',
        headerSubtitle: 'Entdecken Sie die schönsten Abenteuer im Meer und in der Wüste',
        seaTripsTitle: 'Meeresausflüge',
        giftunTripTitle: 'Ausflug zur Insel Giftun',
        giftunTripDesc: 'Genießen Sie das Schwimmen und Tauchen in den schönsten Korallenriffen.',
        snorkelingTripTitle: 'Schnorchelausflug',
        snorkelingTripDesc: 'Ein ganzer Tag voller farbenfroher Unterwasserwelt.',
        safariTripsTitle: 'Safari-Ausflüge',
        quadTripTitle: 'Quad-Bike-Safari',
        quadTripDesc: 'Ein aufregendes Abenteuer im Herzen der Wüste mit Quad-Biking.',
        bedouinDinnerTitle: 'Beduinen-Abendessen in der Wüste',
        bedouinDinnerDesc: 'Genießen Sie ein einzigartiges Erlebnis und ein köstliches Abendessen unter den Sternen.',
        culturalTripsTitle: 'Luxor- und Kairo-Ausflüge',
        luxorTripTitle: 'Ausflug nach Luxor',
        luxorTripDesc: 'Entdecken Sie die alte Geschichte des Tals der Könige und des Karnak-Tempels.',
        cairoTripTitle: 'Ausflug nach Kairo',
        cairoTripDesc: 'Sehen Sie die Pyramiden von Gizeh, die Sphinx und das Ägyptische Museum.',
        bookButton: 'Jetzt buchen',
        priceGiftun: 'Preis: 25 €',
        priceSnorkeling: 'Preis: 30 €',
        priceQuad: 'Preis: 25 €',
        priceBedouin: 'Preis: 30 €',
        priceLuxor: 'Preis: 60 €',
        priceCairo: 'Preis: 80 €',
        footerText: 'Alle Rechte vorbehalten © 2025',
        contactFormTitle: 'Haben Sie Fragen? Kontaktieren Sie uns',
        contactFormSubtitle: 'Füllen Sie das Formular aus und wir melden uns in Kürze bei Ihnen.',
        formNameLabel: 'Name:',
        formEmailLabel: 'E-Mail:',
        formMessageLabel: 'Ihre Nachricht:',
        formSubmitButton: 'Nachricht senden',
        searchPlaceholder: 'Nach einem Ausflug suchen...',
        searchButton: 'Suchen',
        mapTitle: 'Unsere Standorte'
    },
    ro: {
        headerTitle: 'Excursii Hurghada',
        headerSubtitle: 'Descoperi cele mai frumoase aventuri în mare și deșert',
        seaTripsTitle: 'Excursii pe mare',
        giftunTripTitle: 'Excursie pe insula Giftun',
        giftunTripDesc: 'Bucurați-vă de înot și scufundări în cele mai frumoase recife de corali.',
        snorkelingTripTitle: 'Excursie de snorkeling',
        snorkelingTripDesc: 'O zi întreagă de distracție cu viața marină colorată.',
        safariTripsTitle: 'Excursii safari',
        quadTripTitle: 'Safari cu quad-uri',
        quadTripDesc: 'O aventură captivantă în inima deșertului cu plimbări cu quad-ul.',
        bedouinDinnerTitle: 'Cină beduină în deșert',
        bedouinDinnerDesc: 'Bucurați-vă de o experiență unică și o cină delicioasă sub stele.',
        culturalTripsTitle: 'Excursii la Luxor și Cairo',
        luxorTripTitle: 'Excursie la Luxor',
        luxorTripDesc: 'Descoperiți istoria antică a Văii Regilor și a Templului Karnak.',
        cairoTripTitle: 'Excursie la Cairo',
        cairoTripDesc: 'Vedeți Piramidele din Giza, Sfinxul și Muzeul Egiptean.',
        bookButton: 'Rezerva acum',
        priceGiftun: 'Preț: 25 €',
        priceSnorkeling: 'Preț: 30 €',
        priceQuad: 'Preț: 25 €',
        priceBedouin: 'Preț: 30 €',
        priceLuxor: 'Preț: 60 €',
        priceCairo: 'Preț: 80 €',
        footerText: 'Toate drepturile rezervate © 2025',
        contactFormTitle: 'Aveți întrebări? Contactați-ne',
        contactFormSubtitle: 'Completați formularul și vă vom contacta în scurt timp.',
        formNameLabel: 'Nume:',
        formEmailLabel: 'E-mail:',
        formMessageLabel: 'Mesajul dvs.:',
        formSubmitButton: 'Trimite mesaj',
        searchPlaceholder: 'Căutați o excursie...',
        searchButton: 'Căutare',
        mapTitle: 'Locațiile noastre'
    }
};

const elements = document.querySelectorAll('[data-lang-key]');
const htmlTag = document.querySelector('html');

function setLanguage(lang) {
    if (translations[lang]) {
        elements.forEach(element => {
            const key = element.getAttribute('data-lang-key');
            if (translations[lang][key]) {
                if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
                    element.setAttribute('placeholder', translations[lang][key]);
                } else {
                    element.textContent = translations[lang][key];
                }
            }
        });

        if (lang === 'ar') {
            htmlTag.setAttribute('dir', 'rtl');
            htmlTag.setAttribute('lang', 'ar');
        } else {
            htmlTag.setAttribute('dir', 'ltr');
            htmlTag.setAttribute('lang', lang);
        }
    }
}

function searchTrips() {
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();
    const allTripCards = document.querySelectorAll('.trip-card');
    const categories = document.querySelectorAll('.trip-category');

    allTripCards.forEach(card => {
        const tripTitle = card.querySelector('h3').textContent.toLowerCase();
        const tripDescription = card.querySelector('p').textContent.toLowerCase();
        const tripTags = (tripTitle + ' ' + tripDescription);

        if (tripTags.includes(searchTerm)) {
            card.style.display = 'flex';
        } else {
            card.style.display = 'none';
        }
    });

    categories.forEach(category => {
        const visibleCards = category.querySelectorAll('.trip-card[style="display: flex;"]');
        if (visibleCards.length === 0) {
            category.style.display = 'none';
        } else {
            category.style.display = 'block';
        }
    });
}

function initMap() {
    const mapOptions = {
        center: { lat: 27.2573, lng: 33.8129 }, // مركز الغردقة
        zoom: 7
    };
    const map = new google.maps.Map(document.getElementById('map'), mapOptions);

    const locations = [
        { lat: 27.2573, lng: 33.8129, title: 'Hurghada' }, // الغردقة
        { lat: 25.6872, lng: 32.6396, title: 'Luxor' }, // الأقصر
        { lat: 30.0444, lng: 31.2357, title: 'Cairo' } // القاهرة
    ];

    locations.forEach(location => {
        new google.maps.Marker({
            position: { lat: location.lat, lng: location.lng },
            map: map,
            title: location.title
        });
    });
}

document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('searchButton').addEventListener('click', searchTrips);
    document.getElementById('searchInput').addEventListener('keyup', (event) => {
        if (event.key === 'Enter') {
            searchTrips();
        }
    });
    
    const sliders = document.querySelectorAll('.trip-card');
    sliders.forEach(slider => {
        const sliderContainer = slider.querySelector('.slider-images');
        const images = slider.querySelectorAll('.slider-images img');
        if (images.length <= 1) { 
            return;
        }
        const prevButton = slider.querySelector('.prev-button');
        const nextButton = slider.querySelector('.next-button');
        let currentIndex = 0;

        function showImage(index) {
            sliderContainer.style.transform = `translateX(${-index * 100}%)`;
        }

        prevButton.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            showImage(currentIndex);
        });

        nextButton.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % images.length;
            showImage(currentIndex);
        });
    });
});

window.onload = () => {
    setLanguage('en'); 

};


document.addEventListener("DOMContentLoaded", () => {
    // كود الألبومات المنزلقة (Image Sliders)
    const sliders = document.querySelectorAll('.image-slider');
    sliders.forEach(slider => {
        const slides = slider.querySelector('.slider-images');
        const images = slides.querySelectorAll('img');
        const prevButton = slider.querySelector('.prev-button');
        const nextButton = slider.querySelector('.next-button');
        let currentIndex = 0;

        function showImage(index) {
            images.forEach((img, i) => {
                img.style.display = 'none';
                if (i === index) {
                    img.style.display = 'block';
                }
            });
        }

        prevButton.addEventListener('click', () => {
            currentIndex = (currentIndex > 0) ? currentIndex - 1 : images.length - 1;
            showImage(currentIndex);
        });

        nextButton.addEventListener('click', () => {
            currentIndex = (currentIndex < images.length - 1) ? currentIndex + 1 : 0;
            showImage(currentIndex);
        });

        // عرض أول صورة عند تحميل الصفحة
        showImage(currentIndex);
    });

    // كود القائمة المنبثقة للصور (Modal Gallery)
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
    const closeButton = document.querySelector('.close-button');
    const prevImg = document.querySelector('.prev-img');
    const nextImg = document.querySelector('.next-img');
    let currentGalleryImages = [];
    let currentImageIndex = 0;

    // فتح النافذة المنبثقة عند النقر على أي صورة في الألبوم
    document.querySelectorAll('.image-slider img').forEach((img, index) => {
        img.addEventListener('click', function() {
            // تحديث قائمة الصور الحالية بالألبوم الذي تم النقر عليه
            const card = this.closest('.trip-card');
            currentGalleryImages = Array.from(card.querySelectorAll('.image-slider img'));
            currentImageIndex = currentGalleryImages.indexOf(this);

            modal.style.display = 'block';
            modalImg.src = this.src;
        });
    });

    // إغلاق النافذة عند النقر على زر الإغلاق
    closeButton.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    // إغلاق النافذة عند النقر خارج الصورة
    window.addEventListener('click', (event) => {
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    });

    // التنقل إلى الصورة السابقة في الألبوم
    prevImg.addEventListener('click', () => {
        currentImageIndex = (currentImageIndex > 0) ? currentImageIndex - 1 : currentGalleryImages.length - 1;
        modalImg.src = currentGalleryImages[currentImageIndex].src;
    });

    // التنقل إلى الصورة التالية في الألبوم
    nextImg.addEventListener('click', () => {
        currentImageIndex = (currentImageIndex < currentGalleryImages.length - 1) ? currentImageIndex + 1 : 0;
        modalImg.src = currentGalleryImages[currentImageIndex].src;
    });

    // كود الترجمة (Translation Code)
    const translations = {
        ar: {
            // أضف كل المفاتيح والقيم العربية هنا
            // ...
        },
        en: {
            // ...
        },
        de: {
            // ...
        },
        ro: {
            // ...
        }
    };
    
    // ...
    // أكمل باقي كود الترجمة إذا كان موجودًا
});
